[gd_scene load_steps=19 format=3 uid="uid://s4tk420fsoag"]

[ext_resource type="Script" uid="uid://b1ox4kib6xexv" path="res://scripts/core/TowerPlace.gd" id="1_ig7tw"]
[ext_resource type="Script" uid="uid://y2k6cl2yvsrj" path="res://scripts/core/CameraDrag.gd" id="2_h2yge"]
[ext_resource type="PackedScene" uid="uid://bcjtquemseyv7" path="res://assets/HighVoltageTower_Base01.glb" id="3_kek77"]
[ext_resource type="PackedScene" uid="uid://csgnv87mgx711" path="res://assets/SmallPost_Base01.glb" id="4_5vw27"]
[ext_resource type="Script" uid="uid://8t85ia52xerx" path="res://scripts/towers/TowerBegin.gd" id="4_lquwl"]
[ext_resource type="Script" uid="uid://cx8dwaxqf6pt1" path="res://scripts/towers/TowerEnd.gd" id="5_7mycd"]
[ext_resource type="Material" uid="uid://2muo70wdk4pm" path="res://assets/Materials/Ground_Desert_01.tres" id="5_272bh"]
[ext_resource type="Material" uid="uid://csenbt8i1gj6" path="res://assets/Materials/Obs_Desert_01.tres" id="6_5vw27"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_7dm0k"]
sky_top_color = Color(0.324452, 0.607253, 0.751497, 1)
sky_horizon_color = Color(0.688916, 0.68952, 0.436238, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_ig7tw"]
sky_material = SubResource("ProceduralSkyMaterial_7dm0k")

[sub_resource type="Environment" id="Environment_0xm2m"]
background_mode = 2
sky = SubResource("Sky_ig7tw")
ambient_light_source = 3
ambient_light_color = Color(0.187622, 0.254547, 0.303262, 1)
ambient_light_sky_contribution = 0.41
ambient_light_energy = 1.13
tonemap_mode = 2
ssao_enabled = true
ssao_intensity = 6.68
fog_light_color = Color(0.639149, 0.53273, 0.360354, 1)
fog_light_energy = 5.28
fog_aerial_perspective = 1.0

[sub_resource type="BoxShape3D" id="BoxShape3D_7dm0k"]
size = Vector3(50, 1, 50)

[sub_resource type="BoxMesh" id="BoxMesh_ig7tw"]
size = Vector3(50, 1, 50)

[sub_resource type="BoxShape3D" id="BoxShape3D_lquwl"]
size = Vector3(2, 3, 5)

[sub_resource type="BoxMesh" id="BoxMesh_7mycd"]
size = Vector3(2, 3, 5)

[sub_resource type="BoxShape3D" id="BoxShape3D_7mycd"]
size = Vector3(3, 1, 3)

[sub_resource type="BoxMesh" id="BoxMesh_272bh"]
size = Vector3(3, 1, 3)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_5vw27"]
points = PackedVector3Array(33.182, 0, 21.828, 32.724, 0, -5.224, -42.52, 0, -14.485, -47.566, 0, 17.2, 14.155, 0, 24.195)

[node name="Main" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_0xm2m")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.354753, 0.516849, -0.779113, -0.41887, 0.832863, 0.361782, 0.835881, 0.198004, 0.511954, 0, 15.0394, 0)
light_specular = 10.075
shadow_enabled = true
shadow_bias = 0.0
shadow_normal_bias = 0.0
shadow_reverse_cull_face = true
shadow_blur = 1.305

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.83964, -0.386718, 0.381384, 0, 0.702179, 0.712, -0.543144, -0.597824, 0.589578, 27.2543, 11.3732, 20.4806)

[node name="Node3D" type="Node3D" parent="Camera3D"]
script = ExtResource("2_h2yge")

[node name="Grounds" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.429069, 24.6425)

[node name="Ground" type="StaticBody3D" parent="Grounds"]
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Grounds/Ground"]
shape = SubResource("BoxShape3D_7dm0k")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Grounds/Ground/CollisionShape3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0551128, -0.0606041, -0.0606003)
layers = 4
material_override = ExtResource("5_272bh")
mesh = SubResource("BoxMesh_ig7tw")

[node name="Ground2" type="StaticBody3D" parent="Grounds"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -34.7485, 0.881917, 0)
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Grounds/Ground2"]
shape = SubResource("BoxShape3D_7dm0k")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Grounds/Ground2/CollisionShape3D"]
layers = 4
mesh = SubResource("BoxMesh_ig7tw")
surface_material_override/0 = ExtResource("5_272bh")

[node name="Ground3" type="StaticBody3D" parent="Grounds"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 49.8858, 6.85751e-05, 0.000478745)
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Grounds/Ground3"]
shape = SubResource("BoxShape3D_7dm0k")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Grounds/Ground3/CollisionShape3D"]
layers = 4
material_override = ExtResource("5_272bh")
mesh = SubResource("BoxMesh_ig7tw")

[node name="Ground4" type="StaticBody3D" parent="Grounds"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -49.9037)
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Grounds/Ground4"]
shape = SubResource("BoxShape3D_7dm0k")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Grounds/Ground4/CollisionShape3D"]
layers = 4
material_override = ExtResource("5_272bh")
mesh = SubResource("BoxMesh_ig7tw")

[node name="Ground5" type="StaticBody3D" parent="Grounds"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -34.7485, 0.881917, -49.9037)
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Grounds/Ground5"]
shape = SubResource("BoxShape3D_7dm0k")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Grounds/Ground5/CollisionShape3D"]
layers = 4
material_override = ExtResource("5_272bh")
mesh = SubResource("BoxMesh_ig7tw")

[node name="Ground6" type="StaticBody3D" parent="Grounds"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 49.8186, 0.881917, -49.9037)
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Grounds/Ground6"]
shape = SubResource("BoxShape3D_7dm0k")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Grounds/Ground6/CollisionShape3D"]
layers = 4
material_override = ExtResource("5_272bh")
mesh = SubResource("BoxMesh_ig7tw")

[node name="ObstacleHighs" type="Node3D" parent="." groups=["ObstacleHigh"]]

[node name="ObstacleHigh1" type="StaticBody3D" parent="ObstacleHighs" groups=["ObstacleHigh"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.98641, 1.5, 2.82055)
collision_layer = 2
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="ObstacleHighs/ObstacleHigh1"]
shape = SubResource("BoxShape3D_lquwl")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ObstacleHighs/ObstacleHigh1"]
material_override = ExtResource("6_5vw27")
mesh = SubResource("BoxMesh_7mycd")

[node name="ObstacleHigh2" type="StaticBody3D" parent="ObstacleHighs" groups=["ObstacleHigh"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.3884, 2.43931, 2.82055)
collision_layer = 2
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="ObstacleHighs/ObstacleHigh2"]
shape = SubResource("BoxShape3D_lquwl")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ObstacleHighs/ObstacleHigh2"]
material_override = ExtResource("6_5vw27")
mesh = SubResource("BoxMesh_7mycd")

[node name="ObstacleHigh3" type="StaticBody3D" parent="ObstacleHighs" groups=["ObstacleHigh"]]
transform = Transform3D(0.214565, 0, -0.97671, 0, 1, 0, 0.97671, 0, 0.214565, 15.0408, 1.5, 3.80507)
collision_layer = 2
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="ObstacleHighs/ObstacleHigh3"]
shape = SubResource("BoxShape3D_lquwl")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ObstacleHighs/ObstacleHigh3"]
material_override = ExtResource("6_5vw27")
mesh = SubResource("BoxMesh_7mycd")

[node name="ObstacleHigh4" type="StaticBody3D" parent="ObstacleHighs" groups=["ObstacleHigh"]]
transform = Transform3D(-0.407534, 0, -0.91319, 0, 1, 0, 0.91319, 0, -0.407534, 5.5154, 1.5, 16.4983)
collision_layer = 2
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="ObstacleHighs/ObstacleHigh4" groups=["ObstacleHigh"]]
shape = SubResource("BoxShape3D_lquwl")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ObstacleHighs/ObstacleHigh4" groups=["ObstacleHigh", "ObstacleLow"]]
material_override = ExtResource("6_5vw27")
mesh = SubResource("BoxMesh_7mycd")

[node name="ObstacleHigh5" type="StaticBody3D" parent="ObstacleHighs" groups=["ObstacleHigh"]]
transform = Transform3D(-0.984656, 0, -0.174508, 0, 1, 0, 0.174508, 0, -0.984656, -4.85952, 1.5, 13.1564)
collision_layer = 2
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="ObstacleHighs/ObstacleHigh5"]
shape = SubResource("BoxShape3D_lquwl")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ObstacleHighs/ObstacleHigh5"]
material_override = ExtResource("6_5vw27")
mesh = SubResource("BoxMesh_7mycd")

[node name="ObstacleHigh6" type="StaticBody3D" parent="ObstacleHighs" groups=["ObstacleHigh"]]
transform = Transform3D(-0.984656, 0, -0.174508, 0, 1, 0, 0.174508, 0, -0.984656, -19.8498, 2.48683, 12.5503)
collision_layer = 2
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="ObstacleHighs/ObstacleHigh6"]
shape = SubResource("BoxShape3D_lquwl")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ObstacleHighs/ObstacleHigh6"]
material_override = ExtResource("6_5vw27")
mesh = SubResource("BoxMesh_7mycd")

[node name="ObstacleHigh7" type="StaticBody3D" parent="ObstacleHighs" groups=["ObstacleHigh"]]
transform = Transform3D(-0.436613, 0, 0.899649, 0, 1, 0, -0.899649, 0, -0.436613, -28.5855, 2.48683, -2.06391)
collision_layer = 2
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="ObstacleHighs/ObstacleHigh7"]
shape = SubResource("BoxShape3D_lquwl")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ObstacleHighs/ObstacleHigh7"]
material_override = ExtResource("6_5vw27")
mesh = SubResource("BoxMesh_7mycd")

[node name="ObstacleHigh8" type="StaticBody3D" parent="ObstacleHighs" groups=["ObstacleHigh"]]
transform = Transform3D(0.695349, 0, 0.718672, 0, 1, 0, -0.718672, 0, 0.695349, -39.683, 2.48683, 2.38299)
collision_layer = 2
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="ObstacleHighs/ObstacleHigh8"]
shape = SubResource("BoxShape3D_lquwl")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ObstacleHighs/ObstacleHigh8"]
material_override = ExtResource("6_5vw27")
mesh = SubResource("BoxMesh_7mycd")

[node name="ObstacleLows" type="Node3D" parent="." groups=["ObstacleLow"]]

[node name="ObstacleLow1" type="StaticBody3D" parent="ObstacleLows"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.7527, 0.565287, 13.7733)

[node name="CollisionShape3D" type="CollisionShape3D" parent="ObstacleLows/ObstacleLow1"]
shape = SubResource("BoxShape3D_7mycd")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ObstacleLows/ObstacleLow1"]
material_override = ExtResource("6_5vw27")
mesh = SubResource("BoxMesh_272bh")

[node name="ObstacleLow2" type="StaticBody3D" parent="ObstacleLows"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.884794, 0.565287, 3.84677)

[node name="CollisionShape3D" type="CollisionShape3D" parent="ObstacleLows/ObstacleLow2"]
shape = SubResource("BoxShape3D_7mycd")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ObstacleLows/ObstacleLow2"]
material_override = ExtResource("6_5vw27")
mesh = SubResource("BoxMesh_272bh")

[node name="ObstacleLow3" type="StaticBody3D" parent="ObstacleLows"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.12809, 0.565287, -2.33453)

[node name="CollisionShape3D" type="CollisionShape3D" parent="ObstacleLows/ObstacleLow3"]
shape = SubResource("BoxShape3D_7mycd")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ObstacleLows/ObstacleLow3"]
material_override = ExtResource("6_5vw27")
mesh = SubResource("BoxMesh_272bh")

[node name="ObstacleLow4" type="StaticBody3D" parent="ObstacleLows"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.7244, 1.46302, 9.40146)

[node name="CollisionShape3D" type="CollisionShape3D" parent="ObstacleLows/ObstacleLow4"]
shape = SubResource("BoxShape3D_7mycd")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ObstacleLows/ObstacleLow4"]
material_override = ExtResource("6_5vw27")
mesh = SubResource("BoxMesh_272bh")

[node name="ObstacleLow5" type="StaticBody3D" parent="ObstacleLows"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27.0661, 1.46302, 7.24812)

[node name="CollisionShape3D" type="CollisionShape3D" parent="ObstacleLows/ObstacleLow5"]
shape = SubResource("BoxShape3D_7mycd")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ObstacleLows/ObstacleLow5"]
material_override = ExtResource("6_5vw27")
mesh = SubResource("BoxMesh_272bh")

[node name="ObstacleLow6" type="StaticBody3D" parent="ObstacleLows"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -36.691, 1.46302, -7.16561)

[node name="CollisionShape3D" type="CollisionShape3D" parent="ObstacleLows/ObstacleLow6"]
shape = SubResource("BoxShape3D_7mycd")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ObstacleLows/ObstacleLow6"]
material_override = ExtResource("6_5vw27")
mesh = SubResource("BoxMesh_272bh")

[node name="TowerBegin" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.5264, 0.0917997, 13.0722)
script = ExtResource("4_lquwl")
connection_range = 10.0

[node name="HighVoltageTower_Base01" parent="TowerBegin" instance=ExtResource("3_kek77")]
transform = Transform3D(0.485817, 0, 0.874061, 0, 1, 0, -0.874061, 0, 0.485817, 0, -0.0864143, 0)

[node name="TowerEnd" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -44.9902, 0.954574, -6.69961)
script = ExtResource("5_7mycd")

[node name="HighVoltageTower_Base01" parent="TowerEnd" instance=ExtResource("3_kek77")]
transform = Transform3D(0.16503, 0, 0.986288, 0, 1, 0, -0.986288, 0, 0.16503, 0, 0, 0)

[node name="TowerPlacer" type="Node3D" parent="."]
transform = Transform3D(0.998569, 0, 0, 0, 0.998569, 0, 0, 0, 0.998569, 0, 0, 0)
script = ExtResource("1_ig7tw")
tower_scene = ExtResource("3_kek77")
pole_scene = ExtResource("4_5vw27")

[node name="LevelBounds" type="Area3D" parent="." groups=["level_bounds"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="LevelBounds"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.516, 0.57486, 1.59)
shape = SubResource("ConvexPolygonShape3D_5vw27")
